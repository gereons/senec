---
http_interactions:
- request:
    method: get
    uri: https://sso.senec.com/realms/senec/.well-known/openid-configuration
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - ruby-senec/0.23.0 (+https://github.com/solectrus/senec)
      connection:
      - keep-alive
  response:
    status:
      code: 200
      message: OK
    headers:
      date:
      - Sat, 28 Feb 2026 09:32:37 GMT
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      cache-control:
      - no-cache, must-revalidate, no-transform, no-store
      referrer-policy:
      - no-referrer
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-robots-tag:
      - none
      cf-cache-status:
      - DYNAMIC
      nel:
      - '{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'
      report-to:
      - '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=ieGDscm%2FWGoBZ0dCF%2F%2BpPyc66fUDLvEEMNt4Yi%2FwtSJVYtJOC4fUZm5GCFf%2FH58eN1uqrPqKkvXn4E1WsvT3JyEqDlt9IX%2BX0GRI2lI%3D"}]}'
      server:
      - cloudflare
      cf-ray:
      - 9d4eea6e6e94dc96-FRA
      alt-svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: '{"issuer":"https://sso.senec.com/realms/senec","authorization_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/auth","token_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/token","introspection_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/token/introspect","userinfo_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/userinfo","end_session_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/logout","frontchannel_logout_session_supported":true,"frontchannel_logout_supported":true,"jwks_uri":"https://sso.senec.com/realms/senec/protocol/openid-connect/certs","check_session_iframe":"https://sso.senec.com/realms/senec/protocol/openid-connect/login-status-iframe.html","grant_types_supported":["authorization_code","client_credentials","implicit","password","refresh_token","urn:ietf:params:oauth:grant-type:device_code","urn:ietf:params:oauth:grant-type:token-exchange","urn:ietf:params:oauth:grant-type:uma-ticket","urn:openid:params:grant-type:ciba"],"acr_values_supported":["0","1"],"response_types_supported":["code","none","id_token","token","id_token
        token","code id_token","code token","code id_token token"],"subject_types_supported":["public","pairwise"],"prompt_values_supported":["none","login","consent"],"id_token_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","HS256","HS512","ES256","RS256","HS384","ES512","PS256","PS512","RS512"],"id_token_encryption_alg_values_supported":["ECDH-ES+A256KW","ECDH-ES+A192KW","ECDH-ES+A128KW","RSA-OAEP","RSA-OAEP-256","RSA1_5","ECDH-ES"],"id_token_encryption_enc_values_supported":["A256GCM","A192GCM","A128GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"],"userinfo_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","HS256","HS512","ES256","RS256","HS384","ES512","PS256","PS512","RS512","none"],"userinfo_encryption_alg_values_supported":["ECDH-ES+A256KW","ECDH-ES+A192KW","ECDH-ES+A128KW","RSA-OAEP","RSA-OAEP-256","RSA1_5","ECDH-ES"],"userinfo_encryption_enc_values_supported":["A256GCM","A192GCM","A128GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"],"request_object_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","HS256","HS512","ES256","RS256","HS384","ES512","PS256","PS512","RS512","none"],"request_object_encryption_alg_values_supported":["ECDH-ES+A256KW","ECDH-ES+A192KW","ECDH-ES+A128KW","RSA-OAEP","RSA-OAEP-256","RSA1_5","ECDH-ES"],"request_object_encryption_enc_values_supported":["A256GCM","A192GCM","A128GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"],"response_modes_supported":["query","fragment","form_post","query.jwt","fragment.jwt","form_post.jwt","jwt"],"registration_endpoint":"https://sso.senec.com/realms/senec/clients-registrations/openid-connect","token_endpoint_auth_methods_supported":["private_key_jwt","client_secret_basic","client_secret_post","tls_client_auth","client_secret_jwt"],"token_endpoint_auth_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","HS256","HS512","ES256","RS256","HS384","ES512","PS256","PS512","RS512"],"introspection_endpoint_auth_methods_supported":["private_key_jwt","client_secret_basic","client_secret_post","tls_client_auth","client_secret_jwt"],"introspection_endpoint_auth_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","HS256","HS512","ES256","RS256","HS384","ES512","PS256","PS512","RS512"],"authorization_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","HS256","HS512","ES256","RS256","HS384","ES512","PS256","PS512","RS512"],"authorization_encryption_alg_values_supported":["ECDH-ES+A256KW","ECDH-ES+A192KW","ECDH-ES+A128KW","RSA-OAEP","RSA-OAEP-256","RSA1_5","ECDH-ES"],"authorization_encryption_enc_values_supported":["A256GCM","A192GCM","A128GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"],"claims_supported":["iss","sub","aud","exp","iat","auth_time","name","given_name","family_name","preferred_username","email","acr","azp","nonce"],"claim_types_supported":["normal"],"claims_parameter_supported":true,"scopes_supported":["openid","meinsenec","bsr-senec-meinsenec","company-employee.forced-diff-sync","vendor.read","sso_forecast_charging_settings","controller.ping.get","credentials-types","basic","sams.user.send-welcome-email","installation-product.read","deadletter.publish.write","sams.user.get","sso_forecast_charging_settings_consent","installation.read","user-permission.read","sso_user_save","touchpoint.read","service_account","vendor.forced-full-sync","master-data.admin.write","company-employee.read","installation-product.forced-diff-sync","hardware-replacement-offer.sync","ems_system.keys.put","addonpackage-adhoc-redemption","installation-company.read","sams.user.update-password","profile","user-training.forced-diff-sync","roles","installation-endcustomer.read","master-data.system.write","italy-user-training.forced-full-sync","sso_restart_doi","master-data.permission.write","installation-serial.read","error_catalog.ingestion.upload","related-companies","master-data.customer.write","service_partner_s4c_aud","master-data.user.read","ems_system.device.auth-info","controller.ping.post-offline","web-origins","ems-config.read","company-installation.read","deadletter.retry.get","ems_system.keys.generate_assignments","controller.onlinestate.get","pricing-forecast.read","installation.forced-diff-sync","installation-company.forced-full-sync","email","ems_system.identities.create","installation-product.forced-full-sync","master-data.document.read","ems_system.device.assign","energy-storage-catalog.products.read","senec_impersonate","configtool_impersonation_token_exchange_aud","deadletter.retry.start","support","company-installation.forced-diff-sync","sams.sync-user-status","controller.controller.get","ems_system.device.create","installation-license.sync","company-installation.forced-full-sync","user-training.read","master-data.system.read","deadletter.inspect.get","user-training.forced-full-sync","master-data.admin.read","master-data.permission.read","pricing-forecast.write","controller.ping.post","master-data.installcompany.read","firmware-rollout.read","italy-user-training.forced-diff-sync","export-job.read","offline_access","master-data.internal.write","sams.user.send-reset-password-email","installation-company.forced-diff-sync","hardware-replacement-offer.read","installation.forced-full-sync","sams.has-logged-in","company-employee.forced-full-sync","microprofile-jwt","ems-maintenance-task.execute","installation-serial.forced-diff-sync","controller.capabilities.get","installation-endcustomer.forced-diff-sync","app_proxy_aud","master-data.document.write","user-permission.forced-full-sync","user-permission.forced-diff-sync","fpp_gateway_aud","sso_set_password","master-data.user.write","sams.user.token-exchange-client-to-user","italy-user-training.read","phone","app_user_token_exchange_aud","deadletter.retry.stop","installation-license.read","ems_system.device.get","master-data.customer.read","address","installation-add-on.forced-full-sync","installation-serial.forced-full-sync","master-data.installcompany.write","installation-add-on.read","installation-endcustomer.forced-full-sync","acr","vendor.forced-diff-sync","export-job.sync","installation-add-on.forced-diff-sync","federated-identities","sams.update-email","controller.hardware.get"],"request_parameter_supported":true,"request_uri_parameter_supported":true,"require_request_uri_registration":true,"code_challenge_methods_supported":["plain","S256"],"tls_client_certificate_bound_access_tokens":true,"dpop_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","ES256","RS256","ES512","PS256","PS512","RS512"],"revocation_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/revoke","revocation_endpoint_auth_methods_supported":["private_key_jwt","client_secret_basic","client_secret_post","tls_client_auth","client_secret_jwt"],"revocation_endpoint_auth_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","HS256","HS512","ES256","RS256","HS384","ES512","PS256","PS512","RS512"],"backchannel_logout_supported":true,"backchannel_logout_session_supported":true,"device_authorization_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/auth/device","backchannel_token_delivery_modes_supported":["poll","ping"],"backchannel_authentication_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/ext/ciba/auth","backchannel_authentication_request_signing_alg_values_supported":["PS384","RS384","EdDSA","ES384","ES256","RS256","ES512","PS256","PS512","RS512"],"require_pushed_authorization_requests":false,"pushed_authorization_request_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/ext/par/request","mtls_endpoint_aliases":{"token_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/token","revocation_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/revoke","introspection_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/token/introspect","device_authorization_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/auth/device","registration_endpoint":"https://sso.senec.com/realms/senec/clients-registrations/openid-connect","userinfo_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/userinfo","pushed_authorization_request_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/ext/par/request","backchannel_authentication_endpoint":"https://sso.senec.com/realms/senec/protocol/openid-connect/ext/ciba/auth"},"authorization_response_iss_parameter_supported":true}'
  recorded_at: Sat, 28 Feb 2026 09:32:37 GMT
- request:
    method: get
    uri: https://sso.senec.com/realms/senec/protocol/openid-connect/auth?client_id=endcustomer-app-frontend&code_challenge=FILTERED_CODE_CHALLENGE&code_challenge_method=S256&redirect_uri=senec-app-auth%3A%2F%2Fkeycloak.prod&response_type=code&scope=roles%20meinsenec
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - ruby-senec/0.23.0 (+https://github.com/solectrus/senec)
      connection:
      - keep-alive
  response:
    status:
      code: 200
      message: OK
    headers:
      date:
      - Sat, 28 Feb 2026 09:32:37 GMT
      content-type:
      - text/html;charset=utf-8
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      set-cookie:
      - AUTH_SESSION_ID=FILTERED_ID;Version=1;Path=/realms/senec/;Secure;HttpOnly;SameSite=None,
        KC_AUTH_SESSION_HASH=FILTERED_HASH;Version=1;Path=/realms/senec/;Max-Age=60;Secure;SameSite=None,
        KC_RESTART=FILTERED_RESTART;Version=1;Path=/realms/senec/;Secure;HttpOnly;SameSite=None
      cache-control:
      - no-store, must-revalidate, max-age=0
      content-language:
      - en
      content-security-policy:
      - frame-src 'self'; frame-ancestors 'self'; object-src 'none';
      referrer-policy:
      - no-referrer
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-robots-tag:
      - none
      cf-cache-status:
      - DYNAMIC
      nel:
      - '{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'
      report-to:
      - '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=lQNcQGa%2FyAIhYHpKId6YBqYaWMdHOftzVZcTBqhOD4H1CnTL4IvmWPnYDqYji6C9%2FiHVrQWSZ8CGt0m3%2BJrMG1%2FhsK%2Bp9abcvY0BEyU%3D"}]}'
      server:
      - cloudflare
      cf-ray:
      - 9d4eea6f9abe9733-FRA
      alt-svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: "    <!DOCTYPE html>\n    <html lang=\"en\">\n\n    <head>\n        <meta
        charset=\"UTF-8\">\n        <title>\n        Login - SENEC\n        </title>\n
        \       <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n
        \       <link rel=\"stylesheet\" href=\"/resources/bt6qj/login/senec/css/styles.css?v=2.5\">\n
        \       <script>\n            const toggle = (button) => {\n                const
        passwordElement = document.getElementById(button.getAttribute('aria-controls'));\n
        \               const eye = button.querySelector('.eye-show');\n                const
        eyeSlash = button.querySelector('.eye-hide');\n\n                if (passwordElement.type
        === \"password\") {\n                    passwordElement.type = \"text\";\n
        \                   eye.style.display = \"none\";\n                    eyeSlash.style.display
        = \"block\";\n                    button.setAttribute(\"aria-label\", button.dataset.labelHide);\n
        \               } else {\n                    passwordElement.type = \"password\";\n
        \                   eye.style.display = \"block\";\n                    eyeSlash.style.display
        = \"none\";\n                    button.setAttribute(\"aria-label\", button.dataset.labelShow);\n
        \               }\n            }\n            document.addEventListener(\"DOMContentLoaded\",
        () => {\n                    document.querySelectorAll('[data-password-toggle]')\n
        \                       .forEach(button => {\n                            button.onclick
        = () => toggle(button);\n                        });\n                });\n
        \       </script>\n        <script type=\"importmap\">\n            {\n                \"imports\":
        {\n                    \"rfc4648\": \"/resources/bt6qj/common/keycloak/vendor/rfc4648/rfc4648.js\"\n
        \               }\n            }\n        </script>\n        <script type=\"module\">\n
        \           import { startSessionPolling } from \"/resources/bt6qj/login/senec/js/authChecker.js\";\n\n
        \           startSessionPolling(\n                \"/realms/senec/login-actions/restart?client_id=endcustomer-app-frontend&tab_id=FILTERED_TAB_ID&client_data=FILTERED_CLIENT_DATA&skip_logout=true\"\n
        \           );\n        </script>\n        <script type=\"module\">\n            document.addEventListener(\"click\",
        (event) => {\n                const link = event.target.closest(\"a[data-once-link]\");\n\n
        \               if (!link) {\n                    return;\n                }\n\n
        \               if (link.getAttribute(\"aria-disabled\") === \"true\") {\n
        \                   event.preventDefault();\n                    return;\n
        \               }\n\n                const { disabledClass } = link.dataset;\n\n
        \               if (disabledClass) {\n                    link.classList.add(...disabledClass.trim().split(/\\s+/));\n
        \               }\n\n                link.setAttribute(\"role\", \"link\");\n
        \               link.setAttribute(\"aria-disabled\", \"true\");\n            });\n
        \       </script>\n        <script type=\"module\">\n            import {
        checkAuthSession } from \"/resources/bt6qj/login/senec/js/authChecker.js\";\n\n
        \           checkAuthSession(\"FILTERED_HASH\");\n        </script>\n    </head>\n\n
        \   <body>\n        <div class=\"background\">\n            <div class=\"content-container\">\n
        \               <div class=\"logo-container\">\n                    <img src=\"/resources/bt6qj/login/senec/img/senec-logo-white.png\"
        alt=\"SENEC Logo\">\n                </div>\n                <div class=\"login-container\">\n
        \                   <div class=\"login-form\">\n                        <h2>\n
        \       Sign in to your account\n                        </h2>\n                        <!--
        Error message handling -->\n            <form id=\"kc-form-login\" onsubmit=\"login.disabled
        = true; return true;\" action=\"https://sso.senec.com/realms/senec/login-actions/authenticate?session_code=FILTERED_SESSION_CODE&amp;execution=FILTERED_EXECUTION&amp;client_id=endcustomer-app-frontend&amp;tab_id=FILTERED_TAB_ID&amp;client_data=FILTERED_CLIENT_DATA\"
        method=\"post\">\n                 <div class=\"input-group\">\n                        <input
        type=\"text\" id=\"username\" name=\"username\" \n                            value=\"\"\n
        \                           placeholder=\"Enter your email\" autocomplete=\"username\"\n
        \                           aria-invalid=\"\" dir=\"ltr\">\n                </div>\n
        \               <div class=\"input-group-wrapper\">\n                    <div
        class=\"input-group\">\n                        <button type=\"submit\" class=\"custom-button\"
        name=\"login\" id=\"kc-login\">\n                            Continue\n                        </button>\n
        \                   </div>\n                    <input type=\"hidden\" id=\"id-hidden-input\"
        name=\"credentialId\" />\n                </div>\n            </form>\n        <form
        id=\"webauth\" action=\"https://sso.senec.com/realms/senec/login-actions/authenticate?session_code=FILTERED_SESSION_CODE&amp;execution=FILTERED_EXECUTION&amp;client_id=endcustomer-app-frontend&amp;tab_id=FILTERED_TAB_ID&amp;client_data=FILTERED_CLIENT_DATA\"
        method=\"post\">\n            <input type=\"hidden\" id=\"clientDataJSON\"
        name=\"clientDataJSON\"/>\n            <input type=\"hidden\" id=\"authenticatorData\"
        name=\"authenticatorData\"/>\n            <input type=\"hidden\" id=\"signature\"
        name=\"signature\"/>\n            <input type=\"hidden\" id=\"credentialId\"
        name=\"credentialId\"/>\n            <input type=\"hidden\" id=\"userHandle\"
        name=\"userHandle\"/>\n            <input type=\"hidden\" id=\"error\" name=\"error\"/>\n
        \       </form>\n        <script type=\"module\">\n           import { authenticateByWebAuthn
        } from \"/resources/bt6qj/login/senec/js/webauthnAuthenticate.js\";\n           import
        { initAuthenticate } from \"/resources/bt6qj/login/senec/js/passkeysConditionalAuth.js\";\n\n
        \          const args = {\n               isUserIdentified : false,\n               challenge
        : 'zomOVCe6S36l3gD7ccf3QQ',\n               userVerification : 'required',\n
        \              rpId : 'sso.senec.com',\n               createTimeout : 0\n
        \          };\n\n           document.addEventListener(\"DOMContentLoaded\",
        (event) => initAuthenticate({errmsg : \"Passkey is not supported by this browser.
        Try another one or contact your administrator.\", ...args}));\n           const
        authButton = document.getElementById('authenticateWebAuthnButton');\n           if
        (authButton) {\n               authButton.addEventListener(\"click\", (event)
        => {\n                   event.preventDefault();\n                   authenticateByWebAuthn({errmsg
        : \"WebAuthn is not supported by this browser. Try another one or contact
        your administrator.\", ...args});\n               }, { once: true });\n           }\n
        \       </script>\n            <div id=\"kc-form-buttons\" class=\"col-xs-12
        col-sm-12 col-md-12 col-lg-12\">\n                <input id=\"authenticateWebAuthnButton\"
        type=\"button\" autofocus\n                       value=\"Sign in with Passkey\"\n
        \                      class=\"custom-button-bordered\"/>\n            </div>\n
        \               <div class=\"social-login\">\n                </div>\n                    </div>\n
        \               </div>\n            </div>\n                    <div class=\"footer\">\n
        \                       <a href=\"https://senec.com/impressum\" class=\"footer-link\"
        target=\"_blank\">\n                            Imprint</a>\n                        <a
        href=\"https://senec.com/de/mein-senec-app-datenschutzerklaerung\" class=\"footer-link\"
        target=\"_blank\">\n                            Data Privacy</a>\n                    </div>\n
        \       </div>\n    </body>\n\n    </html>\n\n"
  recorded_at: Sat, 28 Feb 2026 09:32:37 GMT
- request:
    method: post
    uri: https://sso.senec.com/realms/senec/login-actions/authenticate?client_data=FILTERED_CLIENT_DATA&client_id=endcustomer-app-frontend&execution=FILTERED_EXECUTION&session_code=FILTERED_SESSION_CODE&tab_id=FILTERED_TAB_ID
    body:
      encoding: US-ASCII
      string: username=FILTERED_EMAIL
    headers:
      User-Agent:
      - ruby-senec/0.23.0 (+https://github.com/solectrus/senec)
      connection:
      - keep-alive
      cookie:
      - AUTH_SESSION_ID=FILTERED_ID; KC_AUTH_SESSION_HASH=FILTERED_HASH; KC_RESTART=FILTERED_RESTART
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: OK
    headers:
      date:
      - Sat, 28 Feb 2026 09:32:37 GMT
      content-type:
      - text/html;charset=utf-8
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      cache-control:
      - no-store, must-revalidate, max-age=0
      content-language:
      - de
      content-security-policy:
      - frame-src 'self'; frame-ancestors 'self'; object-src 'none';
      referrer-policy:
      - no-referrer
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-robots-tag:
      - none
      cf-cache-status:
      - DYNAMIC
      nel:
      - '{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'
      report-to:
      - '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=c1i9GXqmASCQyrWU34cwpEIitPiwfjzQoKgeStwadhKoz315lO%2BVLf6Rb8H9WJLqtEtlRrU%2BUNicqClxeaSKWeoLcwRhr%2B4lfJ8pyQM%3D"}]}'
      server:
      - cloudflare
      cf-ray:
      - 9d4eea70da59d354-FRA
      alt-svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: "    <!DOCTYPE html>\n    <html lang=\"de\">\n\n    <head>\n        <meta
        charset=\"UTF-8\">\n        <title>\n        Login - SENEC\n        </title>\n
        \       <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n
        \       <link rel=\"stylesheet\" href=\"/resources/bt6qj/login/senec/css/styles.css?v=2.5\">\n
        \       <script>\n            const toggle = (button) => {\n                const
        passwordElement = document.getElementById(button.getAttribute('aria-controls'));\n
        \               const eye = button.querySelector('.eye-show');\n                const
        eyeSlash = button.querySelector('.eye-hide');\n\n                if (passwordElement.type
        === \"password\") {\n                    passwordElement.type = \"text\";\n
        \                   eye.style.display = \"none\";\n                    eyeSlash.style.display
        = \"block\";\n                    button.setAttribute(\"aria-label\", button.dataset.labelHide);\n
        \               } else {\n                    passwordElement.type = \"password\";\n
        \                   eye.style.display = \"block\";\n                    eyeSlash.style.display
        = \"none\";\n                    button.setAttribute(\"aria-label\", button.dataset.labelShow);\n
        \               }\n            }\n            document.addEventListener(\"DOMContentLoaded\",
        () => {\n                    document.querySelectorAll('[data-password-toggle]')\n
        \                       .forEach(button => {\n                            button.onclick
        = () => toggle(button);\n                        });\n                });\n
        \       </script>\n        <script type=\"importmap\">\n            {\n                \"imports\":
        {\n                    \"rfc4648\": \"/resources/bt6qj/common/keycloak/vendor/rfc4648/rfc4648.js\"\n
        \               }\n            }\n        </script>\n        <script type=\"module\">\n
        \           import { startSessionPolling } from \"/resources/bt6qj/login/senec/js/authChecker.js\";\n\n
        \           startSessionPolling(\n                \"/realms/senec/login-actions/restart?client_id=endcustomer-app-frontend&tab_id=FILTERED_TAB_ID&client_data=FILTERED_CLIENT_DATA&skip_logout=true\"\n
        \           );\n        </script>\n        <script type=\"module\">\n            document.addEventListener(\"click\",
        (event) => {\n                const link = event.target.closest(\"a[data-once-link]\");\n\n
        \               if (!link) {\n                    return;\n                }\n\n
        \               if (link.getAttribute(\"aria-disabled\") === \"true\") {\n
        \                   event.preventDefault();\n                    return;\n
        \               }\n\n                const { disabledClass } = link.dataset;\n\n
        \               if (disabledClass) {\n                    link.classList.add(...disabledClass.trim().split(/\\s+/));\n
        \               }\n\n                link.setAttribute(\"role\", \"link\");\n
        \               link.setAttribute(\"aria-disabled\", \"true\");\n            });\n
        \       </script>\n        <script type=\"module\">\n            import {
        checkAuthSession } from \"/resources/bt6qj/login/senec/js/authChecker.js\";\n\n
        \           checkAuthSession(\"FILTERED_HASH\");\n        </script>\n    <SCRIPT>
        if (typeof history.replaceState === 'function') {  history.replaceState({},
        \"some title\", \"https://sso.senec.com/realms/senec/login-actions/authenticate?execution=FILTERED_EXECUTION&client_id=endcustomer-app-frontend&tab_id=FILTERED_TAB_ID&client_data=FILTERED_CLIENT_DATA\");
        }</SCRIPT></head>\n\n    <body>\n        <div class=\"background\">\n            <div
        class=\"content-container\">\n                <div class=\"logo-container\">\n
        \                   <img src=\"/resources/bt6qj/login/senec/img/senec-logo-white.png\"
        alt=\"SENEC Logo\">\n                </div>\n                <div class=\"login-container\">\n
        \                   <div class=\"login-form\">\n                        <h2>\n
        \       Jetzt anmelden\n                        </h2>\n                        <!--
        Error message handling -->\n            <form id=\"kc-form-login\" onsubmit=\"login.disabled
        = true; return true;\" action=\"https://sso.senec.com/realms/senec/login-actions/authenticate?session_code=FILTERED_SESSION_CODE&amp;execution=FILTERED_EXECUTION&amp;client_id=endcustomer-app-frontend&amp;tab_id=FILTERED_TAB_ID&amp;client_data=FILTERED_CLIENT_DATA\"
        method=\"post\">\n                <div class=\"input-group\">\n                    <input
        type=\"text\" id=\"username\" name=\"username\"  value=\"FILTERED_EMAIL\"\n
        \                       placeholder=\"Geben Sie Ihre E-Mail ein\" autocomplete=\"username\"\n
        \                       aria-invalid=\"\" dir=\"ltr\">\n                </div>\n\n
        \               <div class=\"input-group\">\n                    <div class=\"password-input-wrapper\">\n
        \                       <input type=\"password\" id=\"password\" name=\"password\"
        \n                            placeholder=\"Geben Sie Ihr Passwort ein\"\n
        \                           autocomplete=\"current-password\" aria-invalid=\"\">\n
        \                       <button type=\"button\" aria-label=\"Passwort einblenden\"\n
        \                               aria-controls=\"password\" data-password-toggle>\n
        \                               <svg class=\"eye-show\" width=\"24\" height=\"24\"
        viewBox=\"0 0 576 512\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n
        \                                 <path d=\"M572.52 241.4C518.29 135.59 410.93
        64 288 64S57.71 135.59 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41
        165.07 448 288 448s230.29-71.59 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288
        400a144 144 0 1 1 144-144 143.84 143.84 0 0 1-144 144zm0-240a95.31 95.31 0
        0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z\"></path>\n
        \                               </svg>\n                                <svg
        class=\"eye-hide\" style=\"display:none; width=\"24\" height=\"24\" viewBox=\"0
        0 640 512\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n
        \                                 <path d=\"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2
        185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71
        376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13
        0 0 1-26 2.61zm313.82-129.39C585.47 131.09 458.16 64 320 64c-35.07 0-68.65
        4.41-100.35 12.18l56.88 56.88a144.42 144.42 0 0 1 187.35 187.35l52.32 52.32c38.74-32.12
        71.42-71.12 87.62-113.34a32.35 32.35 0 0 0 0-29.19zM289.25 214.4l106.35 106.35A47.86
        47.86 0 0 0 330.12 255a48 48 0 0 0-40.87-40.6zM48 64l544 384-25.41 36L22.59
        100z\"></path>\n                                </svg>\n                        </button>\n
        \                   </div>\n                </div>\n                    <div
        class=\"forgot-password\">\n                        <a href=\"/realms/senec/login-actions/reset-credentials?client_id=endcustomer-app-frontend&amp;tab_id=FILTERED_TAB_ID&amp;client_data=FILTERED_CLIENT_DATA\">\n
        \                           Passwort vergessen?\n                        </a>\n
        \                   </div>\n                <div class=\"input-group-wrapper\">\n
        \                   <div class=\"input-group\">\n                        <button
        type=\"submit\" class=\"custom-button\" name=\"login\" id=\"kc-login\">\n
        \                           Anmelden\n                        </button>\n
        \                   </div>\n                    <input type=\"hidden\" id=\"id-hidden-input\"
        name=\"credentialId\" />\n                </div>\n            </form>\n                <div
        class=\"social-login\">\n                            <div class=\"input-group\"
        style=\"margin-top: 10px;\">\n                                <button type=\"button\"\n
        \                                       class=\"custom-button\"\n                                        onclick=\"window.location.href='/realms/senec/broker/aad/login?client_id=endcustomer-app-frontend&amp;tab_id=FILTERED_TAB_ID&amp;client_data=FILTERED_CLIENT_DATA&amp;session_code=FILTERED_SESSION_CODE\"\n
        \                                       style=\"display: flex;\n                                                align-items:
        center;\n                                                justify-content:
        center;\n                                                width: 100%;\">\n
        \                                       <span style=\"margin-right: 8px;\">SENEC
        AAD</span>\n                                </button>\n                            </div>\n
        \               </div>\n                    </div>\n                </div>\n
        \           </div>\n                    <div class=\"footer\">\n                        <a
        href=\"https://senec.com/impressum\" class=\"footer-link\" target=\"_blank\">\n
        \                           Impressum</a>\n                        <a href=\"https://senec.com/de/mein-senec-app-datenschutzerklaerung\"
        class=\"footer-link\" target=\"_blank\">\n                            Datenschutz</a>\n
        \                   </div>\n        </div>\n    </body>\n\n    </html>\n"
  recorded_at: Sat, 28 Feb 2026 09:32:37 GMT
- request:
    method: post
    uri: https://sso.senec.com/realms/senec/login-actions/authenticate?client_data=FILTERED_CLIENT_DATA&client_id=endcustomer-app-frontend&execution=FILTERED_EXECUTION&session_code=FILTERED_SESSION_CODE&tab_id=FILTERED_TAB_ID
    body:
      encoding: US-ASCII
      string: username=FILTERED_EMAIL&password=FILTERED_PASSWORD
    headers:
      User-Agent:
      - ruby-senec/0.23.0 (+https://github.com/solectrus/senec)
      connection:
      - keep-alive
      cookie:
      - AUTH_SESSION_ID=FILTERED_ID; KC_AUTH_SESSION_HASH=FILTERED_HASH; KC_RESTART=FILTERED_RESTART
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 302
      message: Found
    headers:
      date:
      - Sat, 28 Feb 2026 09:32:38 GMT
      content-length:
      - '0'
      connection:
      - keep-alive
      location:
      - senec-app-auth://keycloak.prod?session_state=FILTERED_SESSION_STATE&iss=https%3A%2F%2Fsso.senec.com%2Frealms%2Fsenec&code=FILTERED_CODE
      cache-control:
      - no-store, must-revalidate, max-age=0
      set-cookie:
      - KEYCLOAK_LOCALE=FILTERED_LOCALE;Version=1;Path=/realms/senec/;Secure;HttpOnly;SameSite=None,
        KC_RESTART=;Version=1;Path=/realms/senec/;Max-Age=0, KEYCLOAK_IDENTITY=FILTERED_IDENTITY;Version=1;Path=/realms/senec/;Secure;HttpOnly;SameSite=None,
        KEYCLOAK_SESSION=FILTERED_SESSION;Version=1;Path=/realms/senec/;Max-Age=2592000;Secure;SameSite=None
      content-security-policy:
      - frame-src 'self'; frame-ancestors 'self'; object-src 'none';
      referrer-policy:
      - no-referrer
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-robots-tag:
      - none
      cf-cache-status:
      - DYNAMIC
      report-to:
      - '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=aHK5o9TL3IyKx2abLy6ckH0ky3NYknDRJwwvOK7sFsYe9sAiJ%2BHWkpJPB2Hz7JchHmxi934AhbHLyhzMaJ6rcwqjx4XQ13f27cJhmFE%3D"}]}'
      nel:
      - '{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'
      server:
      - cloudflare
      cf-ray:
      - 9d4eea71c8eba167-FRA
      alt-svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Sat, 28 Feb 2026 09:32:38 GMT
- request:
    method: post
    uri: https://sso.senec.com/realms/senec/protocol/openid-connect/token
    body:
      encoding: UTF-8
      string: code=FILTERED_CODE&code_verifier=FILTERED_CODE_VERIFIER&grant_type=authorization_code&redirect_uri=senec-app-auth%3A%2F%2Fkeycloak.prod
    headers:
      User-Agent:
      - Faraday v2.14.1
      Content-Type:
      - application/x-www-form-urlencoded
      Authorization:
      - Basic FILTERED_BASIC_TOKEN
  response:
    status:
      code: 200
      message: OK
    headers:
      date:
      - Sat, 28 Feb 2026 09:32:38 GMT
      content-type:
      - application/json
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      cache-control:
      - no-store
      pragma:
      - no-cache
      referrer-policy:
      - no-referrer
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-robots-tag:
      - none
      cf-cache-status:
      - DYNAMIC
      nel:
      - '{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'
      report-to:
      - '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=0Z2TvaK0%2BMcFILW0cKHNMBksJP6dTOCpA7KbVn%2BCnmL79GBef%2Fuxs6EhaOZ%2Bgigmy%2FAVzNmQPqcNND%2Fm2QPfpVcsYQ6giFsZittWx9c%3D"}]}'
      server:
      - cloudflare
      cf-ray:
      - 9d4eea73cbb7d2b6-FRA
      alt-svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: '{"access_token":"FILTERED_ACCESS_TOKEN","expires_in":300,"refresh_expires_in":2592000,"refresh_token":"FILTERED_REFRESH_TOKEN","token_type":"Bearer","not-before-policy":0,"session_state":"FILTERED_SESSION_STATE","scope":"meinsenec
        roles energy-storage-catalog.products.read app_user_token_exchange_aud touchpoint.read
        master-data.system.write controller.onlinestate.get pricing-forecast.read
        senec_impersonate pricing-forecast.write master-data.customer.read app_proxy_aud
        credentials-types fpp_gateway_aud master-data.system.read master-data.customer.write
        master-data.user.read master-data.document.read"}'
  recorded_at: Sat, 28 Feb 2026 09:32:38 GMT
- request:
    method: get
    uri: https://senec-app-measurements-proxy.prod.senec.dev/v1/systems/999999/dashboard
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer FILTERED_BEARER_TOKEN
  response:
    status:
      code: 200
      message: ''
    headers:
      date:
      - Sat, 28 Feb 2026 09:32:38 GMT
      content-type:
      - application/json
      content-length:
      - '668'
      connection:
      - keep-alive
      x-content-type-options:
      - nosniff
      x-xss-protection:
      - '0'
      cache-control:
      - no-cache, no-store, max-age=0, must-revalidate
      pragma:
      - no-cache
      expires:
      - '0'
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-frame-options:
      - DENY
    body:
      encoding: UTF-8
      string: '{"currently":{"powerGenerationInW":2328.228515625,"powerConsumptionInW":721.75,"gridFeedInInW":1583.1953125,"gridDrawInW":0.0,"batteryChargeInW":0.0,"batteryDischargeInW":0.0,"batteryLevelInPercent":0.0,"selfSufficiencyInPercent":100.0,"wallboxInW":0.0},"today":{"powerGenerationInWh":2429.6875,"powerConsumptionInWh":4416.01,"gridFeedInInWh":1152.34375,"gridDrawInWh":3140.625,"batteryChargeInWh":0.0,"batteryDischargeInWh":0.0,"batteryLevelInPercent":0.0,"selfSufficiencyInPercent":28.88,"wallboxInWh":0.0},"timestamp":"2026-02-28T09:27:56Z","electricVehicleConnected":false,"numberOfWallboxes":0,"systemId":999999,"systemType":"V123","storageDeviceState":"STANDBY"}'
  recorded_at: Sat, 28 Feb 2026 09:32:38 GMT
recorded_with: VCR 6.4.0
